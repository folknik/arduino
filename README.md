# Автоматизация опускания и подъема рулонных штор

Данный проект реализован с целью защиты помещения квартиры от ярких лучей в период восхода солнца (у автора 
окна квартиры выходят строго на восток). С учетом этого выбраны моменты опускания и подьема шторы.

В качестве штор использованы рулонные шторы, купленные в Леруа-Мерлен. Один из концевых держателей шторы
заменен на деталь, напечатанную на 3D-принтере (модель детали прилагается).

Электрическая схема построена на базе платы Arduino Nano v3.0 с микроконтроллером Atmega168. 
В качестве источника питания платы использованы две аккамуляторные литиевые батареи NCR18650B, каждая 
емкостью 3400 мАч и напряжением 3,7 В. За вращение штор отвечает шаговый двигатель 28BYJ-48 с драйвером ULN2003, который помещен 
в корпус 3D-детали. Шаговый двигатель питается напряжением напрямую с платы (5В).
В схеме также использованы часы реального времени DS3231. Ввиду отсутствия на плате Arduino второго выхода с 
напряжением питания 5В, был использован повышающий DC-DC преобразователь на основе чипа MT3608. 
Каждый раз при заливки на плату нового скетча проставляется актуальное время, с момента которого начинается отсчет.

В период временного промежутка, между morning_time и evening_time, штора находится в опущенном 
состоянии (скажем с 6 до 11 утра). В период временного  промежутка от evening_time текущего 
дня до morning_time следующего дня штора находится в поднятом состоянии. Определение попадания текущего 
времени в нужный временной промежуток происходит путем подсчета количества секунд с 00:00 часов.

После того, как шаговый двигатель закончил свою работу (смотал или размотал штору на заданную длину), с обмоток
мотора снимается напряжение, чтобы двигатель не перегревался.

В скетче используется сторожевой таймер GyverWDT и режим сна SLEEP_MODE_PWR_DOWN.
